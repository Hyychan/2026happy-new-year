<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2026ç­”æ¡ˆä¹‹ä¹¦</title>
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg ' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“–</text></svg>">

    <style>
        /* é‡ç½®æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #DC5C43 0%, #F3B57C 50%, #F6BE9D 100%);
            background-attachment: fixed;
            color: #5A3028;
            line-height: 1.5;
            position: relative;
            padding: 0;
        }
        
        /* å®‰å…¨åŒºåŸŸé€‚é… */
        @supports (padding: max(0px)) {
            body {
                padding-left: max(0px, env(safe-area-inset-left));
                padding-right: max(0px, env(safe-area-inset-right));
                padding-top: max(0px, env(safe-area-inset-top));
                padding-bottom: max(0px, env(safe-area-inset-bottom));
            }
        }
        
        /* ä¸»å®¹å™¨ */
        .container {
            width: 100%;
            min-height: 100vh;
            padding: 16px 16px 80px;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
        }
        
        /* å¡ç‰‡æ ·å¼ - æ–°å¹´é…è‰² */
        .card {
            background: rgba(255, 248, 245, 0.96);
            border-radius: 24px;
            padding: 24px 20px;
            margin-bottom: 16px;
            box-shadow: 0 12px 40px rgba(220, 92, 67, 0.18);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 2px solid rgba(249, 205, 173, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, #DC5C43, #F3B57C, #F6BE9D);
            border-radius: 24px 24px 0 0;
        }
        
        /* æ ‡é¢˜åŒºåŸŸ */
        .header {
            text-align: center;
            margin-bottom: 24px;
            position: relative;
        }
        
        .title {
            font-size: 1.6rem;
            font-weight: 800;
            color: #C94024;
            margin-bottom: 10px;
            line-height: 1.3;
            text-shadow: 0 2px 8px rgba(201, 64, 36, 0.15);
            letter-spacing: 1px;
        }
        
        .title-emoji {
            font-size: 1.6rem;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
            margin: 0 10px;
            filter: drop-shadow(0 4px 6px rgba(201, 64, 36, 0.2));
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }
        
        .subtitle {
            color: #8C473A;
            font-size: 0.8rem;
            opacity: 0.95;
            max-width: 280px;
            margin: 0 auto;
            font-weight: 500;
            padding: 0 10px;
        }

        .subtitle-extra {
            color: #7A2E1F;
            font-size: 0.8rem;
            opacity: 0.95;
            max-width: 288px;
            margin: 0 auto;
            font-weight: 700;
            padding: 0 10px;
        }
        
        /* æ­¥éª¤æŒ‡ç¤º - æ–°å¹´çº¢ */
        .step {
            background: linear-gradient(135deg, #FFEDE6 0%, #FFE4D6 100%);
            padding: 18px 16px;
            border-radius: 18px;
            margin: 22px 0;
            border-left: 6px solid #DC5C43;
            font-weight: 700;
            font-size: 1.05rem;
            color: #C94024;
            position: relative;
            box-shadow: 0 4px 12px rgba(220, 92, 67, 0.1);
        }
        
        .step::after {
            content: '';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background: rgba(220, 92, 67, 0.1);
            border-radius: 50%;
        }
        
        /* ç±»åˆ«ç½‘æ ¼ */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin: 18px 0;
        }
        
        .category-btn {
            background: linear-gradient(135deg, #FFFFFF 0%, #FFF8F5 100%);
            border: 2px solid #FFD8C9;
            border-radius: 20px;
            padding: 18px 10px;
            cursor: pointer;
            transition: all 0.05s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 110px;
            user-select: none;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(220, 92, 67, 0.08);
        }
        
        .category-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #FFD8C9;
            transition: background 0.3s;
        }
        
        .category-btn.touching {
            transform: scale(0.96);
        }
        
        .category-btn.selected {
            background: linear-gradient(135deg, #DC5C43 0%, #F3B57C 100%);
            color: white;
            border-color: #DC5C43;
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(220, 92, 67, 0.25);
        }
        
        .category-btn.selected::before {
            background: #FFE4D6;
        }
        
        .category-btn.selected .category-emoji {
            transform: scale(1.15);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }
        
        .category-emoji {
            font-size: 2.2rem;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        
        .category-name {
            font-size: 0.9rem;
            font-weight: 700;
            text-align: center;
            line-height: 1.3;
            max-width: 100%;
            word-break: break-word;
        }
        
        /* è¾“å…¥æ¡† */
        .optional-input {
            width: 100%;
            padding: 20px 18px;
            border: 2px solid #FFD8C9;
            border-radius: 18px;
            font-size: 1.05rem;
            margin: 18px 0;
            background: #FFF8F5;
            box-sizing: border-box;
            transition: all 0.3s;
            color: #5A3028;
            font-weight: 500;
        }
        
        .optional-input:focus {
            outline: none;
            border-color: #DC5C43;
            background: white;
            box-shadow: 0 0 0 3px rgba(220, 92, 67, 0.15);
        }
        
        .optional-input::placeholder {
            color: #B87D6D;
            font-size: 1rem;
            font-weight: normal;
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .action-btn {
            width: 100%;
            padding: 22px;
            background: linear-gradient(to right, #DC5C43, #F3B57C);
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 1.15rem;
            font-weight: 800;
            margin: 24px 0 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 8px 25px rgba(220, 92, 67, 0.3);
            user-select: none;
            letter-spacing: 1px;
        }
        
        .action-btn.touching {
            transform: translateY(3px);
            box-shadow: 0 4px 15px rgba(220, 92, 67, 0.3);
        }
        
        .action-btn:disabled {
            background: linear-gradient(to right, #E0C6BE, #E8D1C1);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            opacity: 0.8;
        }
        
        .action-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.25), transparent);
            transition: 0.6s;
        }
        
        .action-btn:not(:disabled):active::after {
            left: 100%;
        }
        
        /* ç»“æœåŒºåŸŸ */
        .result {
            background: linear-gradient(135deg, #FFF3ED 0%, #FFECE3 100%);
            padding: 28px 22px;
            border-radius: 22px;
            margin: 26px 0;
            border: 3px solid #F3B57C;
            text-align: center;
            display: none;
            animation: slideUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 35px rgba(220, 92, 67, 0.15);
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .result::before {
            content: 'ğŸ‰';
            position: absolute;
            top: -25px;
            right: -25px;
            font-size: 100px;
            opacity: 0.12;
            transform: rotate(25deg);
        }
        
        .result::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 60%, rgba(255, 255, 255, 0.3) 100%);
            pointer-events: none;
        }
        
        .result-category {
            display: inline-block;
            background: linear-gradient(to right, #DC5C43, #F3B57C);
            color: white;
            padding: 10px 24px;
            border-radius: 25px;
            font-size: 0.95rem;
            font-weight: 700;
            margin-bottom: 24px;
            box-shadow: 0 6px 18px rgba(220, 92, 67, 0.25);
            letter-spacing: 0.5px;
        }
        
        .result-content {
            font-size: 1.25rem;
            line-height: 1.7;
            color: #5A3028;
            margin: 24px 0;
            font-weight: 600;
            text-align: left;
            padding: 0 12px;
        }
        
        .result-emoji {
            font-size: 3.5rem;
            margin: 24px 0;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 6px 12px rgba(201, 64, 36, 0.2));
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loader {
            display: none;
            width: 60px;
            height: 60px;
            margin: 24px auto;
            position: relative;
        }
        
        .loader::before {
            content: '';
            box-sizing: border-box;
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 5px solid #FFE4D6;
            border-top: 5px solid #DC5C43;
            animation: spin 1s linear infinite;
            box-shadow: 0 0 20px rgba(220, 92, 67, 0.2);
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* åº•éƒ¨æŒ‰é’®ç»„ */
        .button-group {
            display: flex;
            gap: 14px;
            margin-top: 20px;
        }
        
        .button-group .action-btn {
            flex: 1;
            margin: 0;
            padding: 20px;
            font-size: 1rem;
        }
        
        /* åˆ†äº«æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
        #shareBtn {
            background: linear-gradient(to right, #C94024, #DC5C43);
        }
        
        #againBtn {
            background: linear-gradient(to right, #8C473A, #A85A48);
        }
        
        /* é¡µè„š */
        .footer {
            text-align: center;
            margin-top: 32px;
            color: rgba(255, 248, 245, 0.95);
            font-size: 0.9rem;
            line-height: 1.6;
            padding: 0 16px;
            text-shadow: 0 2px 4px rgba(89, 48, 40, 0.3);
        }
        
        .footer p {
            margin-bottom: 8px;
        }
        
        /* çƒŸèŠ±ç‰¹æ•ˆ */
        .firework {
            position: fixed;
            font-size: 28px;
            pointer-events: none;
            z-index: 1000;
            animation: fireworkAnim 1.5s ease-out forwards;
            filter: drop-shadow(0 4px 8px rgba(201, 64, 36, 0.3));
        }
        
        @keyframes fireworkAnim {
            0% {
                transform: translate(0, 0) scale(0.5);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1.8);
                opacity: 0;
            }
        }
        
        /* åˆ†äº«æç¤º */
        .share-hint {
            background: rgba(220, 92, 67, 0.12);
            border: 2px dashed #F3B57C;
            border-radius: 18px;
            padding: 18px 16px;
            margin-top: 20px;
            text-align: center;
            color: #C94024;
            font-size: 0.95rem;
            font-weight: 600;
            display: none;
            animation: fadeIn 0.5s;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* é€‚é…å°å±å¹•æ‰‹æœº */
        @media (max-width: 360px) {
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .category-btn {
                min-height: 100px;
                padding: 16px 8px;
            }
            
            .category-name {
                font-size: 0.85rem;
            }
            
            .title {
                font-size: 1.7rem;
            }
            
            .container {
                padding: 14px 14px 70px;
            }
            
            .step {
                padding: 16px 14px;
                font-size: 1rem;
            }
        }
        
        /* é€‚é…å…¨é¢å± */
        @media (min-width: 375px) and (max-width: 414px) {
            .container {
                padding: 20px 20px 90px;
            }
            
            .card {
                padding: 28px 22px;
            }
        }
        
        /* é˜²æ­¢iPhoneåº•éƒ¨å°é»‘æ¡é®æŒ¡ */
        @supports (padding-bottom: env(safe-area-inset-bottom)) {
            .container {
                padding-bottom: calc(80px + env(safe-area-inset-bottom));
            }
        }
        
        /* æš—è‰²æ¨¡å¼é€‚é… */
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #8C3626 0%, #B87D4C 50%, #C99570 100%);
                color: #FFEDE6;
            }
            
            .card {
                background: rgba(50, 30, 25, 0.95);
                border-color: rgba(179, 109, 76, 0.3);
            }
            
            .optional-input {
                background: rgba(70, 40, 35, 0.8);
                border-color: #8C473A;
                color: #FFEDE6;
            }
            
            .optional-input::placeholder {
                color: #B87D6D;
            }
            
            .category-btn {
                background: linear-gradient(135deg, rgba(60, 35, 30, 0.9) 0%, rgba(70, 40, 35, 0.9) 100%);
                border-color: #8C473A;
                color: #FFEDE6;
            }
            
            .category-btn.selected {
                background: linear-gradient(135deg, #DC5C43 0%, #F3B57C 100%);
            }
            
            .result {
                background: linear-gradient(135deg, rgba(60, 35, 30, 0.95) 0%, rgba(70, 40, 35, 0.95) 100%);
                color: #FFEDE6;
                border-color: #B87D4C;
            }
            
            .result-content {
                color: #FFEDE6;
            }
            
            .step {
                background: linear-gradient(135deg, rgba(80, 45, 35, 0.9) 0%, rgba(90, 50, 40, 0.9) 100%);
                color: #FFB89C;
            }
            
            .title {
                color: #FFB89C;
            }
            
            .subtitle {
                color: #E8C1B0;
            }
            
            .share-hint {
                background: rgba(220, 92, 67, 0.2);
                border-color: #B87D4C;
                color: #FFB89C;
            }
        }
        
        /* æ–°å¹´è£…é¥°å…ƒç´  */
        .decoration {
            position: absolute;
            font-size: 20px;
            opacity: 0.4;
            animation: float 6s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }
        
        .decoration:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; }
        .decoration:nth-child(2) { top: 20%; right: 8%; animation-delay: 1s; }
        .decoration:nth-child(3) { bottom: 30%; left: 10%; animation-delay: 2s; }
        .decoration:nth-child(4) { bottom: 15%; right: 5%; animation-delay: 3s; }
    </style>
</head>
<body>
    <!-- æ–°å¹´è£…é¥° -->
    <div class="decoration">ğŸŠ</div>
    <div class="decoration">ğŸ§§</div>
    <div class="decoration">ğŸ®</div>
    <div class="decoration">ğŸ</div>
    
    <div class="container">
        <div class="card">
            <!-- æ ‡é¢˜åŒºåŸŸ -->
            <div class="header">
                <h1 class="title">
                    <span class="title-emoji">ğŸª„</span>
                    2026ç­”æ¡ˆä¹‹ä¹¦
                    <span class="title-emoji">ğŸ“–</span>
                </h1>
                <p class="subtitle">é€‰æ‹©å¿ƒæ„¿ç±»åˆ«ï¼Œè·å–2026æ–°å¹´ä¸“å±ç¥ç¦</p>
                <p class="subtitle-extra">ã€Change Seeuåˆ¶ä½œã€‘</p>
            </div>
            
            <!-- æ­¥éª¤1ï¼šé€‰æ‹©ç±»åˆ« -->
            <div class="step">ğŸ‘‡é€‰æ‹©ä½ çš„å¿ƒæ„¿ç±»åˆ«</div>
            
            <div class="categories-grid" id="categoriesGrid">
                <!-- ç±»åˆ«æŒ‰é’®ç”±JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- æ­¥éª¤2ï¼šå¯é€‰å¿ƒæ„¿ -->
            <div class="step">ğŸ‘‡å†™ä¸‹ä½ çš„å…·ä½“å¿ƒæ„¿ï¼ˆé€‰å¡«ï¼‰</div>
            <input type="text" class="optional-input" id="wishDetail" 
                   placeholder="ä¾‹å¦‚ï¼šæš´å¯Œã€å¤´å‘æµ“å¯†ã€è®ºæ–‡ç§’è¿‡ã€é‡è§å¯¹çš„äºº...ï¼ˆé€‰å¡«ï¼‰" 
                   maxlength="45">
            
            <!-- è·å–ç¥ç¦æŒ‰é’® -->
            <button class="action-btn" id="getAnswerBtn" disabled>
                <span>ğŸ¯</span>
                ç‚¹å‡»è·å–2026ä¸“å±ç¥ç¦
            </button>
            
            <!-- åŠ è½½åŠ¨ç”» -->
            <div class="loader" id="loader"></div>
            
            <!-- ç»“æœåŒºåŸŸ -->
            <div class="result" id="result">
                <div id="resultCategory" class="result-category"></div>
                <div id="answer" class="result-content">ç¥ç¦ç”Ÿæˆä¸­...</div>
                <div id="emoji" class="result-emoji">âœ¨</div>
            </div>
            
            <!-- åº•éƒ¨æŒ‰é’®ç»„ -->
            <div class="button-group" id="actionButtons" style="display: none;">
                <button class="action-btn" id="shareBtn">
                    <span>ğŸ“±</span>
                    åˆ†äº«ç¥ç¦
                </button>
                <button class="action-btn" id="againBtn">
                    <span>ğŸ”„</span>
                    é‡æ–°è®¸æ„¿
                </button>
            </div>
            
            <!-- åˆ†äº«æç¤º -->
            <div class="share-hint" id="shareHint">
                ğŸ’¡ ç‚¹å‡»"åˆ†äº«ç¥ç¦"ï¼Œå³å¯åˆ†äº«åˆ°å¾®ä¿¡ï¼
            </div>
        </div>
        
        <!-- é¡µè„š -->
        <div class="footer">
            <p>ğŸ‰ è¾æ—§è¿æ–°ï¼Œå…±èµ´ç¾å¥½2026 ğŸ‰</p>
            <p style="margin-top: 8px; font-size: 0.85rem; opacity: 0.9;">æ–°å¹´æ–°æ°”è±¡ï¼Œå¥½è¿å¸¸ç›¸ä¼´</p>
            <p style="margin-top: 4px; font-size: 0.8rem; opacity: 0.8;">Change Seeuç¥æ‚¨2026å¹´å¿ƒæƒ³äº‹æˆ</p>
        </div>
    </div>

    <script>
        // ==================== ç¥ç¦è¯­åº“ ====================
        const blessingsData = {
            health: {
                name: "å¥åº·å…»ç”Ÿ",
                emoji: "ğŸ’ª",
                blessings: [
                    "2026å¹´ï¼Œä½ å°†æ‹¥æœ‰çº¢æ¶¦å¥½æ°”è‰²ï¼Œæ¯å¤©ç²¾ç¥é¥±æ»¡å¦‚åˆå‡çš„æœé˜³ï¼",
                    "å…ç–«åŠ›å…¨é¢å‡çº§ï¼æ–°çš„ä¸€å¹´é‡Œç—…æ¯’æ„Ÿå†’éƒ½èº²ç€ä½ èµ°ï¼",
                    "æ–°é™ˆä»£è°¢è¾¾åˆ°æœ€ä½³çŠ¶æ€ï¼Œ2026å¹´ä½ æ¯”åŒé¾„äººå¹´è½»è‡³å°‘äº”å²ï¼",
                    "ç¡çœ è´¨é‡å ªæ¯”å©´å„¿ï¼Œæ–°å¹´æ¯å¤©è‡ªç„¶é†’ï¼Œæ´»åŠ›å……æ²›è¿æ¥æ¯ä¸€å¤©ï¼",
                    "æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„å…»ç”Ÿä¹‹é“ï¼Œ2026å¹´èº«å¿ƒå’Œè°ï¼Œç”±å†…è€Œå¤–æ•£å‘å…‰å½©ï¼"
                ]
            },
            study: {
                name: "å­¦ä¸šè€ƒè¯•", 
                emoji: "ğŸ“",
                blessings: [
                    "2026å¹´é€¢è€ƒå¿…è¿‡ï¼Œæ‰€æœ‰é‡è¦è€ƒè¯•éƒ½è¶…å¸¸å‘æŒ¥ï¼Œé‡‘æ¦œé¢˜åï¼",
                    "å­¦ä¹ å¼€çªæœŸåˆ°æ¥ï¼Œæ–°å¹´é‡Œç†è§£åŠ›è®°å¿†åŠ›åŒæå‡ï¼Œæ•ˆç‡ç¿»å€ï¼",
                    "å¤§è„‘æ½œåŠ›å®Œå…¨æ¿€å‘ï¼Œ2026å¹´å­¦ä¹ ä»»ä½•æ–°çŸ¥è¯†éƒ½è½»æ¾è‡ªå¦‚ï¼",
                    "è€ƒè¿äº¨é€šå¦‚è™¹ï¼Œå…³é”®æ—¶åˆ»æ€»æœ‰å¹¸è¿åŠ æŒï¼Œå–å¾—ç†æƒ³æˆç»©ï¼",
                    "å­¦ä¸šæˆæœç¡•æœç´¯ç´¯ï¼Œ2026å¹´æ”¶è·ä¼˜å¼‚é—ªäº®çš„æˆç»©å•/offerï¼"
                ]
            },
            wealth: {
                name: "è´¢å¯Œäº‹ä¸š",
                emoji: "ğŸ’°",
                blessings: [
                    "2026å¹´è´¢å¯Œæ»šæ»šæ¥ï¼Œé“¶è¡Œè´¦æˆ·æ•°å­—æ¯å¤©éƒ½æœ‰æƒŠå–œå¢é•¿ï¼",
                    "æŠ•èµ„çœ¼å…‰ç²¾å‡†å¦‚ç¥ï¼Œæ–°å¹´é‡Œæ‰€æœ‰ç†è´¢é¡¹ç›®éƒ½è·å¾—ä¸°åšå›æŠ¥ï¼",
                    "äº‹ä¸šé©¬è·ƒæ–°ç¨‹ï¼Œ2026å¹´å‡èŒåŠ è–ªæ‹¿åˆ°æ‰‹è½¯ï¼ŒèŒåœºåœ°ä½èŠ‚èŠ‚é«˜ï¼",
                    "åˆ›ä¸šé¡¹ç›®ä¸€é£å†²å¤©ï¼Œæ–°å¹´æˆä¸ºè¡Œä¸šæ–°æ˜Ÿï¼Œæ”¶è·æ»¡æ»¡ç¬¬ä¸€æ¡¶é‡‘ï¼",
                    "æ”¶å…¥ç»“æ„å¤šå…ƒåŒ–ï¼Œ2026å¹´èººç€ä¹Ÿèƒ½èµšé’±ï¼Œå®ç°è´¢å¯Œè‡ªç”±æ¢¦æƒ³ï¼"
                ]
            },
            love: {
                name: "çˆ±æƒ…ç¼˜åˆ†",
                emoji: "â¤ï¸",
                blessings: [
                    "2026å¹´ï¼Œé‡è§æ»¡çœ¼éƒ½æ˜¯ä½ çš„äººï¼Œè°ˆä¸€åœºåŒå‘å¥”èµ´çš„ç”œèœœæ‹çˆ±ï¼",
                    "çµé­‚ä¼´ä¾£å³å°†å‡ºç°ï¼Œæ–°å¹´é‡Œçˆ±æƒ…ç”œèœœæŒ‡æ•°çˆ†è¡¨ï¼Œæ¯å¤©éƒ½æ˜¯æƒ…äººèŠ‚ï¼",
                    "ä¸çˆ±çš„äººæ„Ÿæƒ…æŒç»­å‡æ¸©ï¼Œ2026å¹´é»˜å¥‘åº¦æ»¡åˆ†ï¼Œæˆä¸ºäººäººç¾¡æ…•çš„ç¥ä»™çœ·ä¾£ï¼",
                    "å¸å¼•åŠ›æ³•åˆ™å…¨é¢ç”Ÿæ•ˆï¼Œ2026å¹´ä½ çš„çœŸçˆ±æ­£å‘ä½ é£å¥”è€Œæ¥ï¼",
                    "ç¼˜åˆ†å¤©æ³¨å®šï¼Œ2026å¹´é‡è§æƒ³è¦å…±åº¦ä¸€ç”Ÿçš„é‚£ä¸ªäººï¼Œå¼€å¯å¹¸ç¦æ–°ç¯‡ç« ï¼"
                ]
            },
            family: {
                name: "å®¶åº­äº²æƒ…",
                emoji: "ğŸ¡",
                blessings: [
                    "2026å¹´å®¶åº­å’Œè°æŒ‡æ•°çˆ†è¡¨ï¼Œæ¯å¤©å®¶é‡Œéƒ½å……æ»¡æ¬¢å£°ç¬‘è¯­å’Œæ¸©æš–ï¼",
                    "å®¶äººå¥åº·å¹³å®‰å–œä¹ï¼Œæ–°å¹´å…¨å®¶ç¦ç…§ç‰‡åˆæ·»æ–°æˆå‘˜ï¼Œå–œäº‹è¿è¿ï¼",
                    "å®¶æ—è¿åŠ¿æŒç»­ä¸Šå‡ï¼Œ2026å¹´æ¯ä¸ªå®¶åº­æˆå‘˜éƒ½å‘å±•å¾—è¶Šæ¥è¶Šå¥½ï¼",
                    "å®¶åº­è´¢å¯Œç¨³å¥ç§¯ç´¯ï¼Œæ–°å¹´é‡Œæ¢å¤§æˆ¿å­æ¢æ–°è½¦éƒ½è½»æ¾å®ç°ï¼",
                    "2026å¹´ï¼Œäº²äººå¸¸å›¢åœ†ï¼Œå¥½äº‹å¸¸æ•²é—¨ï¼Œå¹³å®‰å¸¸é©»å®¶~",
                    "2026å¹´ï¼Œçƒ¦æ¼ä¸è¿‡å¤œï¼ŒçŸ›ç›¾ä¸éš”æœˆï¼Œæ¸©æš–ä¸æ¢å­£ã€‚",
                    "2026å¹´ï¼Œå®¶é‡Œä¸‰é¤æœ‰å‘³ï¼Œå››å­£æœ‰æ™¯ï¼Œäº”ç¦æœ‰ä»½ã€‚",
                    "äº²å­å…³ç³»èæ´½å¹¸ç¦ï¼Œ2026å¹´ä¸å®¶äººæ²Ÿé€šæ— ç¢ï¼Œç†è§£å€å¢ï¼Œäº²æƒ…æ›´æµ“ï¼"
                ]
            },
            social: {
                name: "äººé™…å…³ç³»",
                emoji: "ğŸ¤",
                blessings: [
                    "2026å¹´è´µäººè¿çˆ†æ£šï¼Œå…³é”®æ—¶åˆ»æ€»æœ‰è´µäººç›¸åŠ©ï¼Œäº‹åŠåŠŸå€ï¼",
                    "ç¤¾äº¤é­…åŠ›å€¼æ‹‰æ»¡ï¼Œæ–°å¹´é‡Œèµ°åˆ°å“ªé‡Œéƒ½å—æ¬¢è¿ï¼Œäººè§äººçˆ±ï¼",
                    "ç²¾å‡†è¯†äººèƒ½åŠ›æå‡ï¼Œ2026å¹´äº¤åˆ°çš„éƒ½æ˜¯çœŸè¯šé è°±çš„çœŸæœ‹å‹ï¼",
                    "äººè„‰èµ„æºå…¨é¢æ‰©å±•ï¼Œæ–°å¹´é€šè¿‡ç¤¾äº¤è·å¾—å®è´µæœºä¼šå’Œä¼˜è´¨èµ„æºï¼",
                    "å»ºç«‹æ·±åº¦æƒ…æ„Ÿè¿æ¥ï¼Œ2026å¹´æ”¶è·å‡ ä¸ªå¯ä»¥ä¸€è¾ˆå­çš„çŸ¥å¿ƒå¥½å‹ï¼"
                ]
            },
            personal: {
                name: "ä¸ªäººæˆé•¿",
                emoji: "ğŸŒŸ",
                blessings: [
                    "2026å¹´è¿æ¥ä¸ªäººæˆé•¿çˆ†å‘æœŸï¼Œæ¯ä¸ªæœˆéƒ½æœ‰çªç ´æ€§è¿›æ­¥ï¼",
                    "è‡ªä¿¡å¿ƒè¾¾åˆ°å‰æ‰€æœªæœ‰çš„é«˜åº¦ï¼Œæ–°å¹´é‡Œæ•¢äºæŒ‘æˆ˜æ‰€æœ‰ä¸å¯èƒ½ï¼",
                    "åˆ›é€ åŠ›å¤§çˆ†å‘ï¼Œ2026å¹´æŠŠå¥‡æ€å¦™æƒ³éƒ½å˜æˆæƒŠè‰³çš„ç°å®ï¼",
                    "æ€ç»´å…¨é¢å‡çº§ï¼Œæ–°å¹´é‡Œçœ‹é—®é¢˜è§’åº¦æ›´åŠ å¤šå…ƒæ·±åˆ»æœ‰æ´è§ï¼",
                    "æ‰¾åˆ°æ¸…æ™°äººç”Ÿæ–¹å‘ï¼Œ2026å¹´æ¯ä¸€å¤©éƒ½è¿‡å¾—å……å®æœ‰æ„ä¹‰ä¸”å¿«ä¹ï¼"
                ]
            },
            travel: {
                name: "æ—…è¡Œæ¢ç´¢",
                emoji: "âœˆï¸",
                blessings: [
                    "2026å¹´æ—…è¡Œè¿çˆ†æ£šï¼Œè¯´èµ°å°±èµ°çš„æ—…è¡Œæ¯æ¬¡éƒ½èƒ½å®Œç¾å®ç°ï¼",
                    "ç¯æ¸¸ä¸–ç•Œæ¢¦æƒ³åŠ é€Ÿå®ç°ï¼Œæ–°å¹´æŠ¤ç…§ä¸Šåˆå¤šäº†å‡ ä¸ªå‘å¾€å›½å®¶çš„ç­¾è¯ï¼",
                    "é‡è§æœ€ç¾æœ€éœ‡æ’¼çš„é£æ™¯ï¼Œ2026å¹´æ¯æ¬¡æ—…è¡Œéƒ½é‡åˆ°ç»ä½³å¤©æ°”ï¼",
                    "æ—…è¡Œä½“éªŒå…¨é¢å‡çº§ï¼Œæ–°å¹´é‡Œç”¨æœ€å°‘çš„é’±ç©å‡ºæœ€é«˜çš„å“è´¨ï¼",
                    "æ—…è¡Œä¸­ä¸æ–­é‡è§æƒŠå–œï¼Œ2026å¹´æ¯æ¬¡å‡ºå‘éƒ½æœ‰æ„å¤–ç¾å¥½æ”¶è·ï¼"
                ]
            },
            hobby: {
                name: "å…´è¶£çˆ±å¥½",
                emoji: "ğŸ¨",
                blessings: [
                    "2026å¹´æ‰è‰ºå¤§çˆ†å‘ï¼Œæ‰€æœ‰éšè—æŠ€èƒ½ç»Ÿç»Ÿè¢«æ¿€æ´»æŒæ¡ï¼",
                    "æ‰¾åˆ°å¯ä»¥ç›¸ä¼´ç»ˆç”Ÿçš„çˆ±å¥½ï¼Œæ–°å¹´é‡Œå› å…´è¶£ç”Ÿæ´»æ›´åŠ ä¸°å¯Œå¤šå½©ï¼",
                    "å…´è¶£çˆ±å¥½æˆåŠŸå˜ç°ï¼Œ2026å¹´æŠŠæœ€å–œæ¬¢çš„äº‹æƒ…åšæˆäº†äº‹ä¸šï¼",
                    "æŠ€èƒ½æ°´å¹³è¾¾åˆ°ä¸“ä¸šçº§ï¼Œæ–°å¹´é‡Œåœ¨å…´è¶£åœˆå†…å°æœ‰åæ°”å’Œå½±å“åŠ›ï¼",
                    "ç©å‡ºé«˜æ°´å¹³é«˜å¢ƒç•Œï¼Œ2026å¹´åœ¨å…´è¶£é¢†åŸŸè¾¾åˆ°è¾¾äººå¤§å¸ˆçº§åˆ«ï¼"
                ]
            },
            spiritual: {
                name: "å¿ƒçµç²¾ç¥",
                emoji: "ğŸ§˜",
                blessings: [
                    "2026å¹´å†…å¿ƒè¾¾åˆ°å‰æ‰€æœªæœ‰çš„å¹³é™ä¸å’Œè°ï¼Œå¦‚æ˜é•œæ­¢æ°´ï¼",
                    "å¿ƒçµè§‰é†’æ—¶åˆ»åˆ°æ¥ï¼Œæ–°çš„ä¸€å¹´é‡Œæ‰¾åˆ°äººç”Ÿçš„çœŸæ­£æ„ä¹‰å’Œä½¿å‘½ï¼",
                    "æƒ…ç»ªç®¡ç†è¾¾åˆ°å¤§å¸ˆçº§ï¼Œ2026å¹´ä»»ä½•æƒ…å†µéƒ½èƒ½ä¿æŒå¹³å’Œå¿ƒæ€ï¼",
                    "ç²¾ç¥åŠ›é‡æ— æ¯”å¼ºå¤§ï¼Œæ–°çš„ä¸€å¹´é‡Œå†…åœ¨å…‰èŠ’å¯ä»¥ç…§äº®å’Œæ¸©æš–ä»–äººï¼",
                    "å­¦ä¼šçœŸæ­£åœ°çˆ±è‡ªå·±ï¼Œ2026å¹´ä¸è‡ªå·±çš„å…³ç³»è¾¾åˆ°æœ€ä½³æœ€å’Œè°çŠ¶æ€ï¼"
                ]
            },
            other: {
                name: "å…¶ä»–å¿ƒæ„¿",
                emoji: "ğŸ",
                blessings: [
                    "2026å¹´ï¼Œæ‰€æœ‰çš„ç¾å¥½ä¼šå¦‚çº¦è€Œè‡³ï¼Œæ‰€æœ‰çš„å¹¸è¿ä¼šä¸æœŸè€Œé‡~",
                    "2026å¹´ï¼Œä½ æ‰€æœ‰çš„ç­‰å¾…éƒ½ä¸è¢«è¾œè´Ÿï¼Œæ‰€æœ‰çš„åšæŒéƒ½æœ‰æ„ä¹‰~",
                    "2026å¹´ï¼Œä½ æ‰€æœ‰çš„åŠªåŠ›éƒ½æœ‰å›æŠ¥ï¼Œæ‰€æœ‰çš„æœŸå¾…éƒ½æœ‰å›å“~",
                    "2026å¹´ï¼Œæ‰€æ„¿çš†é¡ºé‚ï¼Œå¹³å®‰å–œä¹ã€å¿ƒæƒ³äº‹æˆï¼",
                    "2026å¹´ï¼Œä½ æ’’å‘ç”Ÿæ´»çš„ç§å­ï¼Œéƒ½ä¼šæ‰¾åˆ°è‡ªå·±çš„æ˜¥å¤©ï¼",
                    "2026å¹´ï¼Œåœ¨å¹¸ç¦åŠ é©¬çš„ç”Ÿæ´»ä¸­æ²‰æ·€æ™ºæ…§ã€æ›´æ·»ä»å®¹ï¼",
                    "2026å¹´ï¼Œç¥é©¬éƒ½å¥½ï¼Œç¥é©¬éƒ½å¼ºï¼Œç¥é©¬éƒ½æ£’ï¼",
                    "2026å¹´ï¼Œæ—¥å­ç»†æ°´é•¿æµï¼Œç”Ÿæ´»åªæ·»ç”˜é†‡ä¸æ·»æ„ã€‚",
                    "2026å¹´ï¼Œåƒå¾—å¥½ç¡å¾—é¦™ï¼Œçƒ¦æ¼ç»Ÿç»Ÿæ¸…é›¶ï¼",
                    "2026å¹´ï¼Œä½ æç»˜çš„è“å›¾ï¼Œä¸–ç•Œæ­£æ‚„æ‚„å¤‡æ–™ã€‚"
                ]
            }
        };
        
        // ==================== å…¨å±€å˜é‡ ====================
        let selectedCategory = null;
        let currentResult = null;
        
        // ==================== åˆå§‹åŒ– ====================
        document.addEventListener('DOMContentLoaded', function() {
            initCategories();
            setupEventListeners();
            addSwipeSupport();
            addNewYearEffects();
        });
        
        // åˆå§‹åŒ–ç±»åˆ«æŒ‰é’®
        function initCategories() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = '';
            
            for (const [key, category] of Object.entries(blessingsData)) {
                const btn = document.createElement('div');
                btn.className = 'category-btn';
                btn.dataset.category = key;
                btn.innerHTML = `
                    <div class="category-emoji">${category.emoji}</div>
                    <div class="category-name">${category.name}</div>
                `;
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                btn.addEventListener('click', () => selectCategory(key, btn));
                
                // æ·»åŠ è§¦æ‘¸åé¦ˆ
                btn.addEventListener('touchstart', () => {
                    btn.style.transform = 'scale(0.95)';
                });
                
                btn.addEventListener('touchend', () => {
                    btn.style.transform = '';
                });
                
                grid.appendChild(btn);
            }
        }
        
        // æ·»åŠ æ–°å¹´ç‰¹æ•ˆ
        function addNewYearEffects() {
            // æ·»åŠ ä¸€äº›éšæœºé£˜è½çš„è£…é¥°
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    createFallingDecoration();
                }, i * 800);
            }
            
            // æ ‡é¢˜é—ªçƒæ•ˆæœ
            const title = document.querySelector('.title');
            setInterval(() => {
                title.style.textShadow = `0 2px 12px rgba(${201 + Math.random() * 50}, ${64 + Math.random() * 30}, ${36 + Math.random() * 20}, 0.3)`;
            }, 2000);
        }
        
        // åˆ›å»ºé£˜è½è£…é¥°
        function createFallingDecoration() {
            const decorations = ['ğŸ§§', 'ğŸŠ', 'ğŸ®', 'ğŸ‰', 'âœ¨', 'ğŸŒŸ'];
            const decoration = document.createElement('div');
            decoration.className = 'decoration';
            decoration.innerHTML = decorations[Math.floor(Math.random() * decorations.length)];
            decoration.style.left = `${Math.random() * 90 + 5}%`;
            decoration.style.top = '-30px';
            decoration.style.animation = `falling ${8 + Math.random() * 4}s linear infinite`;
            decoration.style.animationDelay = `${Math.random() * 2}s`;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes falling {
                    0% {
                        transform: translateY(0) rotate(0deg);
                        opacity: 0.6;
                    }
                    100% {
                        transform: translateY(calc(100vh + 50px)) rotate(${360 + Math.random() * 180}deg);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(decoration);
            
            // è‡ªåŠ¨æ¸…ç†
            setTimeout(() => {
                if (decoration.parentNode) {
                    decoration.remove();
                }
            }, 12000);
        }
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬
        function setupEventListeners() {
            // è·å–ç¥ç¦æŒ‰é’®
            const getBtn = document.getElementById('getAnswerBtn');
            getBtn.addEventListener('click', getAnswer);
            getBtn.addEventListener('touchstart', () => {
                if (!getBtn.disabled) getBtn.style.transform = 'scale(0.98)';
            });
            getBtn.addEventListener('touchend', () => {
                getBtn.style.transform = '';
            });
            
            // åˆ†äº«æŒ‰é’®
            document.getElementById('shareBtn').addEventListener('click', shareResult);
            
            // é‡æ–°è®¸æ„¿æŒ‰é’®
            document.getElementById('againBtn').addEventListener('click', reset);
            
            // è¾“å…¥æ¡†å›è½¦é”®æäº¤
            document.getElementById('wishDetail').addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !getBtn.disabled) {
                    getAnswer();
                    e.preventDefault();
                }
            });
        }
        
        // æ·»åŠ æ»‘åŠ¨æ”¯æŒ
        function addSwipeSupport() {
            let startX, startY;
            
            document.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
            });
            
            document.addEventListener('touchend', (e) => {
                if (!startX || !startY) return;
                
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                
                const diffX = startX - endX;
                const diffY = startY - endY;
                
                // å¦‚æœå‚ç›´æ»‘åŠ¨è·ç¦»è¾ƒå¤§ï¼Œå¿½ç•¥æ°´å¹³æ»‘åŠ¨
                if (Math.abs(diffY) > Math.abs(diffX)) return;
                
                // å³æ»‘è¿”å›é¡¶éƒ¨
                if (diffX < -60) {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
                
                startX = null;
                startY = null;
            });
        }
        
        // ==================== é€‰æ‹©ç±»åˆ« ====================
        function selectCategory(categoryKey, buttonElement) {
            // ç§»é™¤å…¶ä»–æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // æ·»åŠ é€‰ä¸­çŠ¶æ€
            buttonElement.classList.add('selected');
            selectedCategory = categoryKey;
            
            // å¯ç”¨è·å–ç­”æ¡ˆæŒ‰é’®
            document.getElementById('getAnswerBtn').disabled = false;
            
            // æŒ¯åŠ¨åé¦ˆ
            if (navigator.vibrate) {
                navigator.vibrate(40);
            }
            
            // æ»šåŠ¨åˆ°è¾“å…¥æ¡†
            setTimeout(() => {
                document.getElementById('wishDetail').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });
            }, 350);
        }
        
        // ==================== è·å–ç­”æ¡ˆ ====================
        function getAnswer() {
            if (!selectedCategory) return;
            
            const wishDetail = document.getElementById('wishDetail').value.trim();
            const category = blessingsData[selectedCategory];
            
            // æ˜¾ç¤ºåŠ è½½
            document.getElementById('loader').style.display = 'block';
            document.getElementById('getAnswerBtn').disabled = true;
            document.getElementById('result').style.display = 'block';
            document.getElementById('answer').innerHTML = 'æ­£åœ¨ä¸ºä½ ç”Ÿæˆæ–°å¹´ä¸“å±ç¥ç¦...';
            document.getElementById('emoji').innerHTML = 'âœ¨';
            document.getElementById('resultCategory').innerHTML = `${category.emoji} ${category.name}`;
            document.getElementById('actionButtons').style.display = 'none';
            document.getElementById('shareHint').style.display = 'none';
            
            // æ¨¡æ‹ŸåŠ è½½
            setTimeout(() => {
                // éšæœºé€‰æ‹©ç¥ç¦
                const randomIndex = Math.floor(Math.random() * category.blessings.length);
                const blessing = category.blessings[randomIndex];
                
                // ä¿å­˜å½“å‰ç»“æœ
                currentResult = {
                    category: category.name,
                    emoji: category.emoji,
                    blessing: blessing,
                    wishDetail: wishDetail
                };
                
                // æ˜¾ç¤ºç»“æœ
                document.getElementById('answer').innerHTML = blessing;
                document.getElementById('emoji').innerHTML = category.emoji;
                document.getElementById('loader').style.display = 'none';
                document.getElementById('actionButtons').style.display = 'flex';
                
                // æ˜¾ç¤ºåˆ†äº«æç¤º
                setTimeout(() => {
                    document.getElementById('shareHint').style.display = 'block';
                }, 600);
                
                // æ»šåŠ¨åˆ°ç»“æœ
                setTimeout(() => {
                    document.getElementById('result').scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 400);
                
                // åˆ›å»ºåº†ç¥æ•ˆæœ
                createNewYearCelebration();
                
                // æŒ¯åŠ¨åé¦ˆ
                if (navigator.vibrate) {
                    navigator.vibrate([80, 40, 80]);
                }
                
            }, 1500);
        }
        
        // ==================== æ–°å¹´åº†ç¥æ•ˆæœ ====================
        function createNewYearCelebration() {
            // åˆ›å»ºçƒŸèŠ±
            const emojis = ['ğŸ§¨', 'ğŸ†', 'âœ¨', 'ğŸ‰', 'ğŸŒŸ', 'ğŸ’¥', 'ğŸ‡', 'ğŸª…'];
            
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const firework = document.createElement('div');
                    firework.className = 'firework';
                    firework.innerHTML = emojis[i];
                    firework.style.left = `${Math.random() * 70 + 15}%`;
                    firework.style.top = `${Math.random() * 70 + 15}%`;
                    const colors = ['#DC5C43','#F3B57C','#F6BE9D','#C94024'];
                    firework.style.color = colors[i % colors.length];
                    
                    const tx = (Math.random() - 0.5) * 100;
                    const ty = (Math.random() - 0.5) * 100;
                    firework.style.setProperty('--tx', `${tx}px`);
                    firework.style.setProperty('--ty', `${ty}px`);
                    
                    document.body.appendChild(firework);
                    
                    setTimeout(() => firework.remove(), 1800);
                }, i * 180);
            }
            
            // ç»“æœåŒºåŸŸç‰¹æ•ˆ
            const resultDiv = document.getElementById('result');
            resultDiv.style.transform = 'scale(1.03)';
            resultDiv.style.boxShadow = '0 15px 40px rgba(220, 92, 67, 0.3)';
            resultDiv.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
            
            setTimeout(() => {
                resultDiv.style.transform = 'scale(1)';
                resultDiv.style.boxShadow = '0 10px 35px rgba(220, 92, 67, 0.15)';
            }, 400);
            
            // æ·»åŠ æ–°å¹´éŸ³æ•ˆï¼ˆå¯é€‰ï¼‰
            playNewYearSound();
        }
        
        // æ’­æ”¾æ–°å¹´éŸ³æ•ˆ
        function playNewYearSound() {
            // ä½¿ç”¨ç®€å•çš„éŸ³é¢‘APIï¼Œå¦‚æœæ”¯æŒçš„è¯
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // æ–°å¹´å¿«ä¹æ—‹å¾‹
                oscillator.frequency.setValueAtTime(493.88, audioContext.currentTime); // B4
                oscillator.frequency.setValueAtTime(739.99, audioContext.currentTime + 0.2); // F5#
                oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.4); // E5
                oscillator.frequency.setValueAtTime(587.33, audioContext.currentTime + 0.6); // D5
                oscillator.frequency.setValueAtTime(493.88, audioContext.currentTime + 0.7); // B4
                oscillator.frequency.setValueAtTime(440.00, audioContext.currentTime + 0.8); // A4
                oscillator.frequency.setValueAtTime(587.33, audioContext.currentTime + 1); // D5
                oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 1.1); // E5
                oscillator.frequency.setValueAtTime(587.33, audioContext.currentTime + 1.15); // D5
                oscillator.frequency.setValueAtTime(493.88, audioContext.currentTime + 1.2); // B4
                
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 2.8);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 2.8);
            } catch (e) {
                // é™é»˜å¤„ç†
            }
        }
        
        // ==================== åˆ†äº«åŠŸèƒ½ ====================
        function shareResult() {
            if (!currentResult) return;
            
            const { category, emoji, blessing, wishDetail } = currentResult;
            const wishText = wishDetail ? `"${wishDetail}"` : `"${category}"å¿ƒæ„¿`;
            const currentYear = new Date().getFullYear() + 1;
            
            const shareText = `ğŸ“– æˆ‘åœ¨ChangeSeeuçš„ã€Š2026ç­”æ¡ˆä¹‹ä¹¦ã€‹é‡Œè®¸ä¸‹å¿ƒæ„¿ï¼š${wishText}\n\n${emoji} ${category}\nâœ¨ æˆ‘å¾—åˆ°çš„2026æ–°å¹´ä¸“å±ç¥ç¦ï¼š\n${blessing} ${emoji}\n\nhttps://hyychan.github.io/2026happy-new-year/\n\nğŸ‰ æ–°å¹´æ–°æ°”è±¡ï¼ä½ ä¹Ÿæ¥è®¸ä¸‹å¿ƒæ„¿ğŸ‘†ï¼Œè·å–ä¸“å±ç¥ç¦å§ï¼`;
            
            // ä¼˜å…ˆä½¿ç”¨Web Share API
            if (navigator.share) {
                navigator.share({
                    title: `æˆ‘çš„2026æ–°å¹´ç¥ç¦`,
                    text: shareText,
                    url: window.location.href
                }).catch(() => {
                    fallbackCopy(shareText);
                });
            } else {
                fallbackCopy(shareText);
            }
        }
        
        // å¤‡é€‰å¤åˆ¶æ–¹æ³•
        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showMessage('âœ¨ æ–°å¹´ç¥ç¦å·²å¤åˆ¶ï¼å¿«å»å¾®ä¿¡ç²˜è´´åˆ†äº«å§ï¼');
                } else {
                    prompt('è¯·å¤åˆ¶ä»¥ä¸‹æ–‡å­—åˆ†äº«ç»™æœ‹å‹ï¼š', text);
                }
            } catch (err) {
                fallbackCopy(text);   // å·²ç»å¤åˆ¶åˆ°å‰ªè´´æ¿
                showMessage('âœ¨ æ–°å¹´ç¥ç¦å·²å¤åˆ¶ï¼å¿«å»å¾®ä¿¡ç²˜è´´åˆ†äº«å§ï¼');
            }
            
            document.body.removeChild(textarea);
        }
        
        // æ˜¾ç¤ºæ¶ˆæ¯æç¤º
        function showMessage(message) {
            const hint = document.getElementById('shareHint');
            hint.textContent = message;
            hint.style.display = 'block';
            hint.style.background = 'rgba(220, 92, 67, 0.18)';
            hint.style.borderColor = '#F3B57C';
            hint.style.color = '#C94024';
            
            setTimeout(() => {
                hint.textContent = 'ğŸ’¡ ç‚¹å‡»"åˆ†äº«ç¥ç¦"ï¼Œå³å¯åˆ†äº«åˆ°å¾®ä¿¡ï¼';
                hint.style.background = 'rgba(220, 92, 67, 0.12)';
            }, 3000);
        }
        
        // ==================== é‡ç½® ====================
        function reset() {
            selectedCategory = null;
            currentResult = null;
            
            // é‡ç½®UI
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.getElementById('wishDetail').value = '';
            document.getElementById('result').style.display = 'none';
            document.getElementById('actionButtons').style.display = 'none';
            document.getElementById('shareHint').style.display = 'none';
            document.getElementById('getAnswerBtn').disabled = true;
            document.getElementById('loader').style.display = 'none';
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // æŒ¯åŠ¨åé¦ˆ
            if (navigator.vibrate) {
                navigator.vibrate(30);
            }
        }
        
        // ==================== é˜²æ­¢è¯¯è§¦ ====================
        let lastTap = 0;
        document.addEventListener('touchend', function(event) {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            
            if (tapLength < 500 && tapLength > 0) {
                event.preventDefault();
            }
            
            lastTap = currentTime;
        });
    </script>
</body>

</html>

